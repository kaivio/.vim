*kaivio.txt*  适用于 Vim 8.2 版本。  最近更新: 2021年1月

    vim 个人配置手册    by kaivio

帮助文件之帮助            *k*

1. 脚本      |k-script|

#. 编写帮助文件      |k-help-writing|


========================================
1.  脚本~
========================================
#. help help            *k-hel-writing*

为了方便使用，为插件编写的 Vim 帮助文件应该遵循标准 Vim 帮助文件的格式。如果你
在编写新帮助文件，最好从现有的文件复制一份作为模板。

帮助文件的首行的格式应该是这样的:

*helpfile_name.txt*  For Vim version 7.3  Last change: 2010 June 4

第一个字段是指向帮助文件名的链接。第二个字段描述所适用的 Vim 版本。最后一个字
段给出该文件的最后修改日期。字段之间用制表符分隔。

在帮助文件的底部放上 Vim 的模式行，它设置 'textwidth'、'tabstop' 选项，并把
'filetype' 设为 "help"。请不要在模式行上设置全局选项，否则读取帮助的用户会有不
希望的后果。


标 签

要定义帮助标签，把名字放在星号之间 (*标签名*)。标签名应该和所有 Vim 帮助标签名
不同，最好以 Vim 插件名开头。标签名通常行右对齐。

要引用已有帮助标签并建立一个热链，把名字放在竖线 (|) 之间，如 |help-writing|。

要引用 Vim 命令并建立一个热链，把名字放在反引号之间，例如 `:filetype` 里。可见
它以命令形式高亮，如同代码块那样 (见下)。

要在帮助文件里引用 Vim 选项，可以把选项名在单引号之间，如 'statusline'。


高 亮

要定义栏标题，在行尾加上波浪符。栏标题会使用不同颜色的高亮。例如

栏标题~

要分隔同一帮助文件的不同小节，加上一行从首列开始的 '=' 字符序列。小节分隔行会
使用不同的高亮。

要不加修饰地引用一段 ex 命令块，在块之前的那行最后加上一个大于号 (>) 字符，然
后在块之后的那行放上一个小于号 (<) 字符作为该行的第一个非空白字符。任何从第一
列开始的行也会隐含地结束之前的 ex 命令块。例如 >
    function Example_Func()
      echo "Example"
    endfunction
<

以下内容在 Vim 帮助文件中采用不同的高亮:
  - 使用 <> 记号的特殊键名，如 <PageDown>，或 Ctrl 字符，如 CTRL-X
  - 任何 {花括号} 之间的内容，如 {lhs} 和 {rhs}

"Note"，"Notes" 和类似的单词会神奇地自动得到独特的高亮，下面的也是:
  *Todo  something to do
  *Error  something wrong

具体细节可见 $VIMRUNTIME/syntax/help.vim

标签文件~
撰写完成后需要用 `:helptags doc` 来生成标签文件，用于提供给`help`命令查询

vim:tw=78:ts=2:et:ft=help:norl:
